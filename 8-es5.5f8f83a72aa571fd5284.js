!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,n=void 0,"symbol"==typeof(n=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?n:String(n)),o)}var i,n}function r(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"7wo0":function(e,o,i){"use strict";i.r(o),i.d(o,"SettingsModule",function(){return d});var n,s,u,a=i("M0ag"),b=i("tyNb"),c=i("ey9i"),l=i("fXoL"),f=i("3Pt+"),m=i("vWSW"),p=[{path:"",component:(n=function(){function e(r,o,i){t(this,e),this.router=r,this.userService=o,this.fb=i,this.user={},this.errors={},this.isSubmitting=!1,this.settingsForm=this.fb.group({image:"",username:"",bio:"",email:"",password:""})}return r(e,[{key:"ngOnInit",value:function(){Object.assign(this.user,this.userService.getCurrentUser()),this.settingsForm.patchValue(this.user)}},{key:"logout",value:function(){this.userService.purgeAuth(),this.router.navigateByUrl("/")}},{key:"submitForm",value:function(){var t=this;this.isSubmitting=!0,this.updateUser(this.settingsForm.value),this.userService.update(this.user).subscribe(function(e){return t.router.navigateByUrl("/profile/"+e.username)},function(e){t.errors=e,t.isSubmitting=!1})}},{key:"updateUser",value:function(t){Object.assign(this.user,t)}}]),e}(),n.\u0275fac=function(t){return new(t||n)(l.Ib(b.d),l.Ib(c.f),l.Ib(f.b))},n.\u0275cmp=l.Cb({type:n,selectors:[["app-settings-page"]],decls:25,vars:3,consts:[[1,"settings-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"errors"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["type","text","placeholder","URL of profile picture","formControlName","image",1,"form-control"],["type","text","placeholder","Username","formControlName","username",1,"form-control","form-control-lg"],["rows","8","placeholder","Short bio about you","formControlName","bio",1,"form-control","form-control-lg"],["type","email","placeholder","Email","formControlName","email",1,"form-control","form-control-lg"],["type","password","placeholder","New Password","formControlName","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&(l.Lb(0,"div",0),l.Lb(1,"div",1),l.Lb(2,"div",2),l.Lb(3,"div",3),l.Lb(4,"h1",4),l.kc(5,"Your Settings"),l.Kb(),l.Jb(6,"app-list-errors",5),l.Lb(7,"form",6),l.Sb("ngSubmit",function(){return e.submitForm()}),l.Lb(8,"fieldset",7),l.Lb(9,"fieldset",8),l.Jb(10,"input",9),l.Kb(),l.Lb(11,"fieldset",8),l.Jb(12,"input",10),l.Kb(),l.Lb(13,"fieldset",8),l.Lb(14,"textarea",11),l.kc(15,"              "),l.Kb(),l.Kb(),l.Lb(16,"fieldset",8),l.Jb(17,"input",12),l.Kb(),l.Lb(18,"fieldset",8),l.Jb(19,"input",13),l.Kb(),l.Lb(20,"button",14),l.kc(21," Update Settings "),l.Kb(),l.Kb(),l.Kb(),l.Jb(22,"hr"),l.Lb(23,"button",15),l.Sb("click",function(){return e.logout()}),l.kc(24," Or click here to logout. "),l.Kb(),l.Kb(),l.Kb(),l.Kb(),l.Kb()),2&t&&(l.yb(6),l.ac("errors",e.errors),l.yb(1),l.ac("formGroup",e.settingsForm),l.yb(1),l.ac("disabled",e.isSubmitting))},directives:[m.a,f.m,f.i,f.f,f.a,f.h,f.e],encapsulation:2}),n),canActivate:[c.b]}],g=((u=r(function e(){t(this,e)})).\u0275fac=function(t){return new(t||u)},u.\u0275mod=l.Gb({type:u}),u.\u0275inj=l.Fb({imports:[[b.g.forChild(p)],b.g]}),u),d=((s=r(function e(){t(this,e)})).\u0275fac=function(t){return new(t||s)},s.\u0275mod=l.Gb({type:s}),s.\u0275inj=l.Fb({imports:[[a.a,g]]}),s)}}])}();